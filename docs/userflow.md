# **유저플로우 1: 키워드 검색**

1.  **입력 (Input)**
    *   사용자가 메인 페이지의 검색 UI에 검색 키워드를 입력합니다.
    *   사용자가 검색 실행을 요청합니다. (예: 검색 아이콘 클릭, Enter 키 입력)

2.  **처리 (Processing)**
    *   **2-1.** 시스템은 사용자가 입력한 키워드를 가져옵니다.
    *   **2-2. [Edge Case]** 시스템은 입력된 키워드의 유효성을 검증합니다. (키워드가 비어있거나 공백으로만 이루어진 경우)
    *   **2-3.** 시스템은 검증된 키워드를 포함하여 백엔드 서버에 콘서트 목록 데이터 조회를 요청(API 호출)합니다.
    *   **2-4.** 시스템은 서버로부터 키워드와 일치하는 콘서트 목록 데이터를 수신합니다.
    *   **2-5. [Edge Case]** 데이터 수신 결과, 일치하는 콘서트가 없는 경우를 처리할 준비를 합니다.
    *   **2-6. [Edge Case]** API 호출 실패 등 서버 통신 중 에러가 발생하는 경우를 처리할 준비를 합니다.

3.  **출력 (Output)**
    *   처리 결과에 따라, 검색된 콘서트 목록이 화면에 표시됩니다.
    *   **[Edge Case Feedback]** 일치하는 검색 결과가 없는 경우, '결과 없음'을 나타내는 UI가 표시됩니다.
    *   **[Edge Case Feedback]** 서버 통신 오류 발생 시, 사용자에게 오류 상황을 알리는 피드백이 표시됩니다.

---

# **유저플로우 2: 콘서트 상세 정보 조회**

1.  **입력 (Input)**
    *   사용자가 메인 페이지의 콘서트 목록에서 특정 콘서트 아이템을 선택(클릭)합니다.

2.  **처리 (Processing)**
    *   **2-1.** 시스템은 사용자가 선택한 콘서트의 고유 식별자(ID)를 확인합니다.
    *   **2-2.** 시스템은 해당 고유 식별자를 이용해 백엔드 서버에 콘서트 상세 정보를 요청(API 호출)합니다.
    *   **2-3.** 시스템은 사용자의 로그인 상태를 확인하여, '찜하기' 기능의 초기 상태를 결정합니다.
    *   **2-4.** 시스템은 서버로부터 상세 정보 데이터를 수신하고, 사용자를 콘서트 상세 페이지로 이동시킵니다.
    *   **2-5. [Edge Case]** 유효하지 않은 콘서트 식별자로 접근하거나 서버에 데이터가 존재하지 않을 경우, '데이터 없음' 또는 '오류' 상태를 준비합니다.
    *   **2-6. [Edge Case]** 서버 통신 중 API 호출에 실패할 경우, 에러 처리 로직을 준비합니다.

3.  **출력 (Output)**
    *   콘서트 상세 페이지가 화면에 표시되며, 서버로부터 받은 상세 정보가 UI에 채워집니다.
    *   로그인 상태에 따라 '찜하기' 버튼이 활성화 또는 비활성화 상태로 표시됩니다.
    *   **[Edge Case Feedback]** 존재하지 않는 콘서트에 접근한 경우, '페이지를 찾을 수 없음' 관련 UI가 표시됩니다.
    *   **[Edge Case Feedback]** 통신 오류 발생 시, 사용자에게 오류 상황을 알리는 피드백이 표시됩니다.

---

# **유저플로우 3: 찜하기 (회원)**

1.  **입력 (Input)**
    *   로그인한 사용자가 콘서트 상세 페이지에서 '찜하기' 버튼을 클릭합니다.

2.  **처리 (Processing)**
    *   **2-1.** 시스템은 사용자의 로그인 상태 및 인증 정보를 확인합니다.
    *   **2-2.** 시스템은 콘서트의 현재 '찜' 상태에 따라, 백엔드 서버에 찜 목록 '추가' 또는 '제거'를 요청(API 호출)합니다.
    *   **2-3.** 시스템은 서버로부터 처리 성공 또는 실패 응답을 수신합니다.
    *   **2-4. [Edge Case]** API 호출 중 네트워크 오류나 서버 에러가 발생하면, 에러 처리 로직을 준비합니다.
    *   **2-5. [Edge Case]** 사용자의 로그인 세션이 만료되어 인증에 실패한 경우, 관련 처리를 준비합니다.

3.  **출력 (Output)**
    *   '찜하기' 버튼의 UI가 변경되어 새로운 상태(찜 완료 또는 취소)를 시각적으로 표시합니다.
    *   **(Side Effect)** 마이페이지의 '찜한 콘서트' 목록 데이터가 갱신됩니다.
    *   **[Edge Case Feedback]** API 호출 실패 시, 사용자에게 요청 실패 관련 오류 메시지를 표시합니다.
    *   **[Edge Case Feedback]** 인증 실패 시, 사용자에게 로그인이 필요하다는 안내와 함께 로그인 페이지로 리다이렉트합니다.

---

# **유저플로우 4: 로그인 (페이지)**

1.  **입력 (Input)**
    *   사용자가 로그인 필요 기능(찜하기, 헤더 로그인 버튼 등)을 시도하면 로그인 페이지로 이동합니다.
    *   사용자가 로그인 페이지에서 이메일 및 비밀번호를 입력하고 '로그인' 버튼을 클릭합니다.

2.  **처리 (Processing)**
    *   **2-1.** 시스템은 입력된 데이터를 가져와 클라이언트 측 유효성을 1차 검증합니다.
    *   **2-2.** 시스템은 백엔드 서버에 로그인 인증을 요청(API 호출)하고, 성공 또는 실패 응답을 수신합니다.
    *   **2-3.** 인증 성공 시, 인증 토큰을 저장하고 애플리케이션의 전역 로그인 상태를 업데이트합니다.
    *   **2-4. [Edge Case]** 인증 실패 시 (예: 잘못된 비밀번호), 실패 원인을 파악합니다.
    *   **2-5. [Edge Case]** 서버 통신 중 오류가 발생할 경우, 에러 처리 로직을 준비합니다.

3.  **출력 (Output)**
    *   **인증 성공 시:** 헤더 UI가 변경되며, 로그인을 요청했던 페이지로 리다이렉트되거나 메인 페이지로 이동합니다.
    *   **인증 실패 시:** 로그인 페이지에 실패 원인(예: "비밀번호가 일치하지 않습니다")을 표시합니다.
    *   **[Edge Case Feedback]** 클라이언트 측 유효성 검증 실패 시, 해당 입력 필드에 안내 문구를 표시합니다.
    *   **[Edge Case Feedback]** 서버 통신 오류 시, 페이지에 오류 발생 메시지를 표시합니다.

---

# **유저플로우 5: 좌석 선택**

1.  **입력 (Input)**
    *   사용자가 콘서트 상세 페이지에서 '예매하기' 버튼을 클릭합니다.
    *   사용자가 좌석도에서 원하는 좌석을 클릭하고 다음 단계 버튼을 클릭합니다.

2.  **처리 (Processing)**
    *   **2-1.** 시스템은 좌석 선택 페이지로 이동시키고, 좌석 정보를 서버에 요청하여 좌석도를 렌더링합니다.
    *   **2-2.** 사용자가 좌석을 선택하면, 시스템은 선택 정보를 클라이언트 상태에 임시 저장합니다.
    *   **2-3. [Edge Case]** 이미 예매되었거나 선택 불가능한 좌석, 1인당 예매 가능 좌석 수를 초과한 선택을 제한합니다.
    *   **2-4.** 다음 단계 요청 시, 선택 좌석의 실시간 예매 가능 여부를 재확인하고 서버에 좌석 선점을 요청(API 호출)합니다.
    *   **2-5. [Edge Case]** 다른 사용자가 먼저 선점하여 좌석 선점에 실패하는 경우를 처리합니다.

3.  **출력 (Output)**
    *   등급별 색상 및 예매 가능 여부가 표시된 좌석도가 화면에 나타납니다.
    *   선택한 좌석 정보와 총 결제 예상 금액이 실시간으로 업데이트됩니다.
    *   좌석 선점에 성공하면, 사용자의 로그인 상태에 따라 '예약 정보 입력'(비회원) 또는 '예약 정보 확인'(회원) 페이지로 이동합니다.
    *   **[Edge Case Feedback]** 선택 불가 좌석 클릭 시 피드백을 제공하거나 아무 동작도 하지 않습니다.
    *   **[Edge Case Feedback]** 좌석 선점 실패 시, "선택하신 좌석은 방금 다른 사용자가 선점하였습니다"와 같은 메시지를 표시하고 현재 페이지에 머무릅니다.

---

# **유저플로우 6: 예약 정보 입력 (비회원)**

1.  **입력 (Input)**
    *   사용자가 예매자 정보(이름, 연락처 등)를 각 입력 필드에 기입하고 '예약 완료' 버튼을 클릭합니다.

2.  **처리 (Processing)**
    *   **2-1.** 시스템은 입력된 예매자 정보의 유효성을 클라이언트 측에서 검증합니다.
    *   **2-2.** 시스템은 선점한 좌석 정보와 예매자 정보를 결합하여 백엔드 서버에 예매 확정을 요청(API 호출)합니다.
    *   **2-3.** 시스템은 서버로부터 예매 성공(예매 번호 포함) 또는 실패 응답을 수신합니다.
    *   **2-4. [Edge Case]** 좌석 선점 시간이 만료되어 예매 확정에 실패한 경우를 처리합니다.

3.  **출력 (Output)**
    *   예매 확정에 성공하면, 사용자는 '예약 완료' 페이지로 이동합니다.
    *   **(Side Effect)** 데이터베이스에 해당 예매 정보가 최종적으로 기록됩니다.
    *   **[Edge Case Feedback]** 유효성 검증 실패 시, 입력 필드 하단에 안내 메시지를 표시합니다.
    *   **[Edge Case Feedback]** 좌석 선점 시간 만료 시, "예매 가능 시간이 초과되었습니다" 알림을 표시하고 좌석 선택 페이지로 이동시킬 수 있습니다.

---

# **유저플로우 7: 예약 정보 확인 및 입력 (회원)**

1.  **입력 (Input)**
    *   (선택적) 사용자가 자동 완성된 정보를 수정하고 '예약 완료' 버튼을 클릭합니다.

2.  **처리 (Processing)**
    *   **2-1.** 시스템은 로그인된 사용자의 회원 정보를 가져와 예매자 정보 입력 필드를 자동으로 채웁니다.
    *   **2-2. [Edge Case]** 회원 정보에 필수 값이 누락된 경우 해당 필드는 비워두고 필수 입력 처리를 합니다.
    *   **2-3.** 시스템은 최종 확인된 예매자 정보와 좌석 정보를 결합하여 백엔드 서버에 예매 확정을 요청(API 호출)합니다.
    *   **2-4.** 시스템은 서버로부터 예매 성공 또는 실패 응답을 수신합니다.
    *   **2-5. [Edge Case]** 좌석 선점 시간이 만료된 경우를 처리합니다.

3.  **출력 (Output)**
    *   예매자 정보 입력 필드가 사용자의 회원 정보로 미리 채워진 상태로 표시됩니다.
    *   예매 확정에 성공하면, 사용자는 '예약 완료' 페이지로 이동합니다.
    *   **(Side Effect)** 예매 내역이 해당 회원 계정에 귀속되어 데이터베이스에 기록됩니다.
    *   **[Edge Case Feedback]** 누락된 필수 필드를 채우지 않고 시도하면 안내 메시지를 표시합니다.

---

# **유저플로우 8: 예약 완료 확인**

1.  **입력 (Input)**
    *   이전 단계에서 예매 확정에 성공하여 '예약 완료' 페이지로 자동 전환됩니다.

2.  **처리 (Processing)**
    *   **2-1.** 시스템은 이전 단계에서 받은 최종 예매 정보(예매 번호 등)를 기반으로 UI를 구성합니다.
    *   **2-2.** 시스템은 사용자의 로그인 상태를 확인하여 다음 행동 유도 버튼(CTA)을 다르게 구성합니다.
    *   **2-3. [Edge Case]** 비정상적인 경로로 페이지에 접근하여 표시할 예매 정보가 없는 경우를 감지합니다.

3.  **출력 (Output)**
    *   예매 번호를 포함한 최종 예매 정보가 명확하게 표시된 페이지가 나타납니다.
    *   **회원:** '마이페이지로 이동' 버튼 제공. **비회원:** '예약 조회 페이지로' 버튼 제공.
    *   **[Edge Case Feedback]** 표시할 정보가 없는 경우, "확인할 예매 내역이 없습니다"와 같은 안내 메시지를 표시합니다.

---

# **유저플로우 9: 예약 조회 (비회원)**

1.  **입력 (Input)**
    *   사용자가 '예약 조회' 페이지의 입력 폼에 예매자 이름과 예매 번호를 입력하고 '조회하기' 버튼을 클릭합니다.

2.  **처리 (Processing)**
    *   **2-1.** 시스템은 입력된 정보의 유효성을 검증하고, 백엔드 서버에 예매 내역 조회를 요청(API 호출)합니다.
    *   **2-2.** 시스템은 서버로부터 일치하는 예매 데이터 또는 '결과 없음' 응답을 수신합니다.
    *   **2-3. [Edge Case]** 일치하는 예매 내역이 없는 경우를 처리할 준비를 합니다.
    *   **2-4. [Edge Case]** 서버 통신 오류 발생 시 에러 처리 로직을 준비합니다.

3.  **출력 (Output)**
    *   조회 성공 시, 페이지 내 결과 영역에 예매 상세 정보가 표시됩니다.
    *   **[Edge Case Feedback]** 조회 결과가 없는 경우, "일치하는 예매 내역이 없습니다"라는 메시지를 표시합니다.
    *   **[Edge Case Feedback]** 서버 통신 오류 발생 시, 오류 메시지를 표시합니다.

---

# **유저플로우 10: 마이페이지 조회 (회원)**

1.  **입력 (Input)**
    *   로그인한 사용자가 '마이페이지' 링크를 클릭합니다.
    *   사용자가 '내 예매 내역' 또는 '찜한 콘서트' 탭을 클릭하여 전환합니다.

2.  **처리 (Processing)**
    *   **2-1.** 시스템은 사용자의 로그인 인증 정보를 확인합니다.
    *   **2-2.** 페이지 접근 시, 기본 탭('내 예매 내역')에 필요한 데이터를 서버에 요청(API 호출)합니다.
    *   **2-3.** 탭 전환 시, 해당 탭에 필요한 데이터를 서버에 요청(API 호출)합니다.
    *   **2-4. [Edge Case]** 로그인이 풀린 상태로 접근 시 접근을 차단하고 로그인 페이지로 리다이렉트합니다.
    *   **2-5. [Edge Case]** 각 탭에 해당하는 데이터가 없는 경우를 처리할 준비를 합니다.

3.  **출력 (Output)**
    *   마이페이지가 표시되며, 기본적으로 '내 예매 내역' 탭의 내용이 나타납니다.
    *   탭 전환 시 해당 탭의 콘텐츠(예매 내역 또는 찜한 콘서트 목록)가 표시됩니다.
    *   **[Edge Case Feedback]** 표시할 데이터가 없는 경우, "예매 내역이 없습니다"와 같은 안내 메시지를 표시합니다.
    *   **[Edge Case Feedback]** 로그인이 필요한 경우, "로그인이 필요한 서비스입니다" 안내와 함께 로그인 페이지로 리다이렉트합니다.